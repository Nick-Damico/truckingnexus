<turbo-stream action='update' target='flash-messages'>
  <template>
    <%= render 'shared/flash_and_error_messages' %>
  </template>
</turbo-stream>

<%= form_for(resource, as: resource_name, url: registration_path(resource), html: { method: :put }) do |f| %>
  <%#= render 'devise/shared/error_messages', user: %>
  <%= f.hidden_field :reset_password_token %>

  <div class="form-group">
    <%= f.label :current_password, class: 'label-field' %><i class='text-sm'>(we need your current password to confirm your changes)</i>
    <%= f.password_field :current_password, autocomplete: 'current-password' %>
  </div>

  <div class="form-group">
    <%= f.label :password, 'New password', class: 'label-field' %>
    <%= f.password_field :password, autofocus: true, autocomplete: 'new-password',
                                    class: 'w-full py-2 px-3 text-gray-700 border shadow appearance-none leading-tight focus:outline-none focus:shadow-outline' %>
  </div>

  <div class="form-group">
    <%= f.label :password_confirmation, 'Confirm new password', class: 'label-field' %>
    <%= f.password_field :password_confirmation, autocomplete: 'new-password' %>
  </div>

  <div class="flex items-center mb-4 lg:w-1/2">
    <%= f.submit 'Change my password', class: 'btn btn--save' %>
  </div>
<% end %>
